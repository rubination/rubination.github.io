<!DOCTYPE html>
<html>
<head>
    <title>COVID App &ndash; Jake Rubin</title>
    <link rel="icon" href="../img/favicon.ico">
    <link rel="stylesheet" href="../style/default.css">
    <link rel="stylesheet" href="../style/navbar.css">
    <link rel="stylesheet" href="../style/projects.css">
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
    <div id="navbar">
        <div id="navtitle" class="navelem">
            <h1>JAKE RUBIN</h1>
        </div>
        <ul id="navlist" class="navnonmobile">
            <li>
                <a href="https://jakerubin.ca/" class="navelem navitem">
                    <h3>Home</h3>
                </a>
            </li>
            <li>
                <a href="https://jakerubin.ca/aboutme" class="navelem navitem">
                    <h3>About Me</h3>
                </a>
            </li>
            <li class="navproj">
                <span class="navelem navitem">
                    <h3>Projects</h3>
                    <img src="../img/downarrow.png" class="arrowimg">
                </span>
                <ul class="dropdown">
                    <li>
                        <a href="https://jakerubin.ca/projects/website" class="navelem navitem">
                            <h5>This Website</h5>
                        </a>
                    </li>
                    <li>
                        <a href="https://jakerubin.ca/projects/batbot" class="navelem navitem">
                            <h5>Batbot</h5>
                        </a>
                    </li>
                    <li>
                        <a class="navelem navitem">
                            <h5>COVID App</h5>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <a class="navelem navitem navres navnonmobile" href="https://jakerubin.ca/rubinresume.pdf" download>
            <h3>Resume</h3>
            <img src="../img/download.svg" class="downloadimg">
        </a>
        <ul id="burgerbun">
            <li id="closedburger">
                <img src="../img/hamburger.png">
            </li>
            <li id="openburger">
                <span id="grillmarks">
                    <img src="../img/xicon.png">
                </span>
                <ul id="burgertoppings">
                    <li>
                        <a href="https://jakerubin.ca/" class="navelem navitem">
                            <h3>Home</h3>
                        </a>
                    </li>
                    <li>
                        <a href="https://jakerubin.ca/aboutme" class="navelem navitem">
                            <h3>About Me</h3>
                        </a>
                    </li>
                    <li>
                        <span id="projspan" class="navelem navitem">
                            <h3>Projects</h3>
                            <img id="burgerarrow" src="../img/downarrow.png" class="arrowimg">
                        </span>
                        <ul id="burgerdrop" style="display:none;">
                            <li>
                                <a href="https://jakerubin.ca/projects/website" class="navelem navitem">
                                    <h5>This Website</h5>
                                </a>
                            </li>
                            <li>
                                <a href="https://jakerubin.ca/projects/batbot" class="navelem navitem">
                                    <h5>Batbot</h5>
                                </a>
                            </li>
                            <li>
                                <a class="navelem navitem">
                                    <h5>COVID App</h5>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a id="burgerres" class="navelem navitem navres" href="https://jakerubin.ca/rubinresume.pdf" download>
                            <h3>Resume</h3>
                            <img src="../img/download.svg" class="downloadimg">
                        </a>
                    </li>
                </ul>
                <div id="grease"></div>
            </li>
        </ul>
        <script src="../js/navbar.js"></script>
    </div>
    <div id="ptitle">
        <h1>Automatic Vaccination Status Checker</h1>
        <p>March 10, 2022 &ndash; March 31, 2022</p>
    </div>
    <div id="pcontrib">
        <a href="https://github.com/rubination">
            <img src="https://avatars.githubusercontent.com/u/90235766?v=4">
            Jake Rubin
        </a>
        <a href="https://github.com/LeonardoKamino">
            <img src="https://avatars.githubusercontent.com/u/59890834?v=4">
            Leo Kamino Barros
        </a>
        <a href="https://github.com/SanHalacoglu">
            <img src="https://avatars.githubusercontent.com/u/89543019?v=4">
            &Scedil;an Hala&ccedil;o&gbreve;lu
        </a>
        <a href="https://github.com/Ilamparithi-I">
            <img src="https://avatars.githubusercontent.com/u/63252233?v=4">
            Ilam Imayavaramban
        </a>
    </div>
    <div id="pfeatureimg" style="background-image:url(../img/covidchecker.png);"></div>
    <div id="pgit">
        <a href>
            <div id="pgitlogo"></div>
            <p>Click here for the Github repository</p>
        </a>
    </div>
    <div id="ptoollist">
        <figure>
            <img src="../img/toolicons/nodejs.png">
            <figcaption>Node.js</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/reactjs.png">
            <figcaption>React</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/arduino.png">
            <figcaption>Arduino</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/apache.png">
            <figcaption>Apache</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/html.png">
            <figcaption>HTML</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/css.png">
            <figcaption>CSS</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/js.png">
            <figcaption>JavaScript</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/npm.png">
            <figcaption>npm</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/johnnyfive.png">
            <figcaption>Johnny-Five</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/serialport.png">
            <figcaption>Serialport</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/axios.png">
            <figcaption>Axios</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/express.png">
            <figcaption>Express</figcaption>
        </figure>
        <figure>
            <img src="../img/toolicons/sendgrid.png">
            <figcaption>Sendgrid</figcaption>
        </figure>
    </div>
    <div id="psynopsis">
        <p>
            This was the second project assigned in CPEN 291: Computer Engineering Design Studio I.
            Unlike the dancing robot project we named Batbot, our group was allowed more free reign to decide a project to build.
            The project had to utilize a web-app hosted by an Apache web server running on a virtual machine.
            Our group decided we wanted to make a project that was relevant to current events.
            This project merges a React-based front-end, a Node.js-based back-end, and Arduino Uno-centered hardware system, and 
                "grants access" to an individual if they pass a symptom questionnaire, body temperature check, and vaccination identification check.
        </p>
    </div>
    <div id="phardware">
        <div id="hwtablediv">
            <table>
                <thead>
                    <tr>
                        <th>Quantity</th>
                        <th>Item Name</th>
                        <th>Item Type</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2</td>
                        <td>Arduino Microcontroller</td>
                        <td>UNO</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Body Temperature Thermometer</td>
                        <td>DB18S20</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Ultrasonic Distance Sensor</td>
                        <td>HC-SR04</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Mini-Servo Motor</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Push Button</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>10,000 &PlusMinus; 500&ohm; Resistor</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>USB-A to USB-B Connector Cable</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Solderable Perfboard</td>
                        <td></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="3">
                            <a id="fritzlink">Click to view this project's Fritzing.</a>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div id="pfritzmodal">
        <div>
            <div id="fritztop">
                <p>COVID App Fritzing</p>
                <img id="fritzx" src="../img/xicon.png">
            </div>
            <img id="fritzimg" src="../img/featcovidapp/COVIDAppFritzing.png">
        </div>
    </div>
    <div id="pfeatures">
        <h1>FEATURES</h1>
        <div id="featimgs">
            <div class="featarrow leftarrow disabledarrow">
                <div class="arrowfill"></div>
            </div>
            <img class="featimg border" src="../img/featcovidapp/WaitingPage.png">
            <img class="featimg" src="../img/featcovidapp/Questionnaire.png">
            <img class="featimg" src="../img/featcovidapp/Instructions.png">
            <img class="featimg" src="../img/featcovidapp/VaccinationCardScan.png">
            <img class="featimg" src="../img/featcovidapp/Access.png">
            <img class="featimg" src="../img/featcovidapp/AdminLogin.png">
            <img class="featimg" src="../img/featcovidapp/AdminDashboard.png">
            <img class="featimg" src="../img/featcovidapp/AdminDashboard.png">
            <div class="featarrow rightarrow">
                <div class="arrowfill"></div>
            </div>
        </div>
        <div id="dotbar">
            <div class="slidedot on"></div>
            <div class="slidedot"></div>
            <div class="slidedot"></div>
            <div class="slidedot"></div>
            <div class="slidedot"></div>
            <div class="slidedot"></div>
            <div class="slidedot"></div>
            <div class="slidedot"></div>
        </div>
        <div id="smallarrows">
            <div class="featarrow leftarrow disabledarrow">
                <div class="arrowfill"></div>
            </div>
            <div class="featarrow rightarrow">
                <div class="arrowfill"></div>
            </div>
        </div>
        <div id="feattext">
            <div class="feat">
                <h2 class="dash">1/8 &mdash; Start-Up via Ultrasonic Sensor</h2>
                <h2 class="br">1/8 <br> Start-Up via Ultrasonic Sensor</h2>
                <p>
                    Upon opening the application, the user is greeted with a waiting screen.
                    In effect, the application waits for a user to come within range of the computer and hardware to begin the screening process.
                    The HC-SR04 sonar, via the Johnny-Five hardware libraries, is assigned an event listener. 
                    On a change of reading, the back-end checks if a person is within 50 centimeters of the computer, and changes a global boolean to reflect this change.
                    Meanwhile, the front-end sends get requests to the back-end via Axios.
                    The back-end, via Express.js, handles requests and returns the aforementioned boolean.
                    When the front-end receives the value <code>true</code>, a new page displays, starting the screening.
                </p>
            </div>
            <div class="feat">
                <h2 class="dash">2/8 &mdash; Questionnaire via Buttons</h2>
                <h2 class="br">2/8 <br> Questionnaire via Buttons</h2>
                <p>
                    The first thing a user must do is answer a series of questions regarding potential symptoms or close contact.
                    However, instead of clicking a yes or no button on the screen, the user must instead press physical buttons.
                    Similarly to the HC-SR04 sonar, each button had an event listener attached, which on a click sets one of two booleans to true for 100ms.
                    Another get request pulls the two boolean values.  
                    If "no" is selected as an answer, the screening process would abruptly end.
                    If "yes" is selected, the next question is displayed.  
                    After all questions have been displayed and "yes" has been answered for all, the front-end navigates to the next part of the process.
                </p>
            </div>
            <div class="feat">
                <h2 class="dash">3/8 &mdash; Temperature Measurement</h2>
                <h2 class="br">3/8 <br> Temperature Measurement</h2>
                <p>
                    Next, the user must measure their temperature using a body temperature probe thermometer.
                    The user is instructed to sanitize the thermometer, with a GIF displaying the example.
                    After clicking a button to continue, the user is then told to play the thermometer on the underside of their elbow with a new GIF.
                    Continuing, the user holds the thermometer in place for 30 seconds, and the temperature measurement takes place.
                    In the same way as the previous two features, the value is recorded via an event-listener-called function and transfered via a get request.
                    After 30 seconds, the result displays on the screen.
                    If the temperature value is too high, the user is not permitted to continue.
                    A timeout function triggers the navigation to the next page, which depends on the above result.
                </p>
            </div>
            <div class="feat">
                <h2 class="dash">4/8 &mdash; ID Scans</h2>
                <h2 class="br">4/8 <br> ID Scans</h2>
                <p>
                    One of the last things a user must do is scan their vaccination card and government ID.
                    Due to user privacy, we didn't build a way of scanning actual IDs, but we substituted via custom QR codes.
                    npm's <code>react-qr-reader</code> component was used to read a QR code from the user's webcam, showing the webcam footage on the screen via the <code>&lt;QrReader&gt;</code> tag.
                    The QR codes are then read and the string result is sent via a callback function and then a post request to the back-end to parse.
                    Each set of identification scans had separate purposes and associated functions.
                </p>
                <ol>
                    <li>
                        <strong>Vaccination Card:</strong> this QR code contains the first and last names of the individual, and the vaccination status, and the associated parser turns the resulting string into an object.
                        The back-end then checks if the card itself is valid by checking if it matches an ID in a database of cards in a different file.
                        If the vaccination card is valid, and the vaccination status is set to <code>true</code>, the front-end navigates to the next ID scan.  
                        Otherwise, access is denied.
                    </li>
                    <li>
                        <strong>Government ID:</strong> this code contains the first and last names as well, coded in a more government-style format.
                        The parser grabs these names, then checks another database of user information, grabbing the user's email if the user has previously registered.
                        If the user's name matches that of the vaccination card, and the user is already registered for the day, access is finally granted as no more steps need to be taken.
                        If the user's name matches but the user hasn't been registered yet that day, the user must input their email.
                        This email is then included with the vaccination ID and name of the user to add to the user information database under the date they used this tool.
                        Once the user's info has been added, access is granted.
                        If user's name doesn't match, access is denied.
                    </li>
                </ol>
            </div>
            <div class="feat">
                <h2 class="dash">5/8 &mdash; Granting Access</h2>
                <h2 class="br">5/8 <br> Granting Access</h2>
                <p>
                    Throughout this process, there are several times when access can be denied: failed questionnaire, high temperature, invalid ID, or unvaccinated status via ID.
                    In these cases, the front-end will navigate to the "Access Denied" screen, and after timeout back to the waiting page.
                    However, if the user passes the screening, the front-end displays the "Access Granted" page.
                    At the same time, a get request sends which triggers a servo motor to rotate, simulating the opening of a door as if the person can now enter whichever building employs this system.
                    On a 5 second timeout, the front-end then signals the back-end to return the servo back to it's original location, closing the hypothetical door, and returning to the waiting page to start another cycle.
                </p>
            </div>
            <div class="feat">
                <h2 class="dash">6/8 &mdash; Admin Login</h2>
                <h2 class="br">6/8 <br> Admin Login</h2>
                <p>
                    All previous entries have discussed how a regular user would interact with this project.
                    The rest of these entries deal with how the administrative team (the four of us who worked on this project) can use the data collected.
                    However, since not everyone is allowed access, a login system was used in order to access the administrative dashboard.
                    This process was done using HTML forms, with inputs for username and password.
                    When submitted a very quick post request checked if both username and password were valid.
                    If they were valid, the admin would gain access to the dashboard, otherwise a message would appear under the form informing the inputter of the incorrect information.
                </p>
            </div>
            <div class="feat">
                <h2 class="dash">7/8 &mdash; Access Graph</h2>
                <h2 class="br">7/8 <br> Access Graph</h2>
                <p>
                    The admin dashboard can be split into two parts; this is the first part (on the left).
                    The graph is created using npm's <code>recharts</code> library, specifically component for a line graph.
                    The data for this graph is taken from the user information database mentioned in Feature 4.
                    As this database groups users based on the day they access the application, the back-end compiles the number of people who accessed the graph each day and sends the data to the front-end to be used by the graph.
                    Contained in a <code>&lt;ResponsiveContainer&gt;</code> element, when you hover over each dot on the graph, the <code>&lt;Tooltip&gt;</code> element displays a small box with the specific datum.
                    An administrator using this application may want to know which individual days or days of the week are busiest or most inactive.
                </p>
            </div>
            <div class="feat">
                <h2 class="dash">8/8 &mdash; Mass Email</h2>
                <h2 class="br">8/8 <br> Mass Email</h2>
                <p>
                    The second part of the admin dashboard is the mass email feature (on the right).
                    This feature is extremely important to an administrator, as if there is a COVID breakout in the location in which this app is used, the admin can send an email to everyone who may be affected on the day contact with the virus occured.
                    When the "send mass email" button is clicked, a callback function sends a post request to the back-end.
                    The back-end first gathers an access list of individuals' emails from the date sent in the post request.
                    An object is then organized with to, from, subject, text, and HTML sections; the to: section contains the previously created list, and the HTML: section effectively the text: section with formatting HTML tags included in the string.
                    Finally, <code>@sendgrid/mail</code> is employed to send multiple messages to each of the emails included in the list.
                </p>
            </div>
        </div>
    </div>
    <footer>
        <div></div>
    </footer>
    <style>
        @media only screen and (max-width:2250px) {
            #ptoollist {
                justify-content:left;
            }

            #ptoollist::before {
                position:static;
                white-space:nowrap;
            }
        }

        @media only screen and (max-width:830px){
            #ptoollist::before{
                content:none;
            }

            #psynopsis, #phardware {
                flex-direction:column;
            }

            #psynopsis::before, #phardware::before {
                width:100%;
            }
        }
    </style>
    <script src="../js/projects.js"></script>
</body>
</html>